<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Namespace: meta</title>
    
    
    
    
    
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content=""/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{"outputSourceFiles":true},"applicationName":"Demo","disqus":"","googleAnalytics":"","openGraph":{"title":"","type":"website","image":"","site_name":"","url":""},"meta":{"title":"","description":"","keyword":""},"linenums":false};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">Demo</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="meta">
            <span class="title">
                <a href="meta.html">meta</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="meta.pubApi.applyInjects"><a href="meta.html#.pubApi.applyInjects">pubApi.applyInjects</a></li>
            
                <li data-name="meta.pubApi.getUserInfo"><a href="meta.html#.pubApi.getUserInfo">pubApi.getUserInfo</a></li>
            
                <li data-name="meta.pubApi.initTracker"><a href="meta.html#.pubApi.initTracker">pubApi.initTracker</a></li>
            
                <li data-name="meta.pubApi.load"><a href="meta.html#.pubApi.load">pubApi.load</a></li>
            
                <li data-name="meta.pubApi.onEvent"><a href="meta.html#.pubApi.onEvent">pubApi.onEvent</a></li>
            
                <li data-name="meta.pubApi.onPopup"><a href="meta.html#.pubApi.onPopup">pubApi.onPopup</a></li>
            
                <li data-name="meta.pubApi.onReady"><a href="meta.html#.pubApi.onReady">pubApi.onReady</a></li>
            
                <li data-name="meta.pubApi.render"><a href="meta.html#.pubApi.render">pubApi.render</a></li>
            
                <li data-name="meta.pubApi.track"><a href="meta.html#.pubApi.track">pubApi.track</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="meta.html">Namespace: meta</h1>
        



<section>
    
<header>
    <h2>
    meta
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
            <div class="description"><p>Публичный класс меты. Напрямую с них работать не рекомендуется, так как он подгружается ассинхронно и<br>никто не сможет гарантировать, что он будет в глобальном скойпе на момент вызова.<br>Рекомендуется работать с ним через функцию me (как ga в Google Analytics, идея взята оттуда)<br><a href="http://wiki.lan:8090/pages/viewpage.action?pageId=27886334">MSR-3</a></p></div>
        
        
        
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

        
        
            <h3>Example</h3>
            

    
    <pre class="prettyprint"><code><p>// Подкючаете скрипт<br>     (function (i, s, o, g, r, a, m) {<br>        i['MetaEmbedObject'] = r;<br>        i[r] = i[r] || function () {<br>                    (i[r].q = i[r].q || []).push(arguments)<br>                }, i[r].l = 1 * new Date();<br>        a = s.createElement(o),<br>                m = s.getElementsByTagName(o)[0];<br>        a.async = 1;<br>        a.src = g;<br>        m.parentNode.insertBefore(a, m)<br>    })(window, document, 'script', '//localhost:8080/static/embed.js?token=DEV_OR_REAL_USER_TOKEN&amp;login=USER_LOGIN', 'me');</p></code></pre>
    

        
    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".pubApi.applyInjects">
            
            <span class="type-signature static">static</span>meta.pubApi.applyInjects<span class="signature">()</span>
        </h4>
    
        
        <div class="tag-source">
            <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html">/private/tmp/out_git/src/main/webapp/app/embed/embed-platform.js</a>, <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html#line315">line 315</a>
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Запрашивает с сервера данные про инжект-блокам для данной страницы и<br>выполняет полученные сценарии</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        

    
    <pre class="prettyprint"><code><p>conf_ = {<br>            &quot;extractVars&quot;: [<br>                {<br>                    &quot;id&quot;: &quot;menuItems&quot;,<br>                    &quot;selector&quot;: &quot;#page-wrapper .me-layout-top-menu &gt; ul.navbar-nav &gt; li&quot;,<br>                    &quot;map&quot;: [<br>                        {<br>                            &quot;key&quot;: &quot;pageId&quot;,<br>                            &quot;value&quot;: {<br>                                &quot;type&quot;: &quot;attr&quot;,<br>                                &quot;name&quot;: &quot;data-page-id&quot;<br>                            }<br>                        },<br>                        {<br>                            &quot;key&quot;: &quot;linkName&quot;,<br>                            &quot;selector&quot;: &quot;&gt; a.me-app-menu<strong>link&quot;,<br>                            &quot;value&quot;: {<br>                                &quot;type&quot;: &quot;text&quot;,<br>                                &quot;trim&quot;: true,<br>                            }<br>                        }<br>                    ]<br>                },<br>                {<br>                    &quot;id&quot;:&quot;user&quot;,<br>                    &quot;selector&quot;: &quot;.js-openuserinfo&quot;,<br>                    &quot;type&quot;: &quot;object&quot;,<br>                    &quot;map&quot;: [<br>                        {<br>                            &quot;key&quot;: &quot;first_name&quot;,<br>                            &quot;selector&quot;: &quot;.user-menu</strong>user-name&quot;,<br>                            &quot;value&quot;: {<br>                                &quot;type&quot;: &quot;text&quot;,<br>                                &quot;trim&quot;: true,<br>                            }<br>                        },<br>                        {<br>                            &quot;key&quot;: &quot;company_name&quot;,<br>                            &quot;selector&quot;: &quot;.user-menu__company-name&quot;,<br>                            &quot;value&quot;: {<br>                                &quot;type&quot;: &quot;text&quot;,<br>                                &quot;trim&quot;: true,<br>                            }<br>                        }<br>                    ]<br>                }<br>            ],<br>            &quot;injects&quot;: [<br>                {<br>                    &quot;selector&quot;: &quot;.js-main-page-view&quot;,<br>                    &quot;mode&quot;: &quot;append&quot;,<br>                    &quot;content&quot;: {<br>                        &quot;type&quot;: &quot;bem&quot;,<br>                        &quot;attrs&quot;: {<br>                            id: 'metamodule-mp',<br>                            cls: 'module toggle-wrap'<br>                        },<br>                        &quot;content&quot;: [<br>                            'селекторы на основе БЭМ https://ru.bem.info/platform/bemjson/#content',<br>                            '<div id="metamodule-mp_heading" class="mod-header"><ul class="ops"></ul><h2 class="toggle-title">Медиапланы</h2></div>',<br>                            {<br>                                cls: &quot;mod-content&quot;,<br>                                content: {<br>                                    tag: &quot;ul&quot;,<br>                                    cls:&quot;item-details&quot;,<br>                                    content:{<br>                                        tag:&quot;li&quot;,<br>                                        content: {<br>                                            &quot;type&quot;: &quot;meta_embed&quot;,<br>                                            &quot;elemId&quot;: &quot;frame_for_test&quot;,<br>                                            &quot;appendExtractVars&quot;: [&quot;location&quot;, &quot;menuItems&quot;],<br>                                            &quot;options&quot;:  {<br>                                                &quot;mode&quot;: &quot;full_iframe&quot;,<br>                                                &quot;appId&quot;: 25,<br>                                                &quot;pageId&quot;: 3887,<br>                                                &quot;sizeBy&quot;: 'content'<br>                                            }<br>                                        }<br>                                    }<br>                                }<br>                            }<br>                        ]<br>                    },<br>                }<br>            ]<br>        };</p></code></pre>
    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".pubApi.getUserInfo">
            
            <span class="type-signature static">static</span>meta.pubApi.getUserInfo<span class="signature">()</span>
        </h4>
    
        
        <div class="tag-source">
            <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html">/private/tmp/out_git/src/main/webapp/app/embed/embed-platform.js</a>, <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html#line123">line 123</a>
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Информаия по текущему пользователю</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".pubApi.initTracker">
            
            <span class="type-signature static">static</span>meta.pubApi.initTracker<span class="signature">()</span>
        </h4>
    
        
        <div class="tag-source">
            <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html">/private/tmp/out_git/src/main/webapp/app/embed/embed-platform.js</a>, <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html#line132">line 132</a>
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Инициализация трекера</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".pubApi.load">
            
            <span class="type-signature static">static</span>meta.pubApi.load<span class="signature">(elementId, options)</span>
        </h4>
    
        
        <div class="tag-source">
            <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html">/private/tmp/out_git/src/main/webapp/app/embed/embed-platform.js</a>, <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html#line417">line 417</a>
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Загрузить страницу в элемент</p>
    </div>
    

    
    
    
    
    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>elementId</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            <td class="description last">
                
                </td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>options</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            <td class="description last">
                
                </td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Examples</h5>
        

    
    <pre class="prettyprint"><code><p>// Загружаете страницу<br>     me('load', 'placeholder', {<br>         appId: 35,<br>         pageId: 3632,<br>         sizeBy: 'content'<br>     });</p></code></pre>
    


    
    <pre class="prettyprint"><code><p>// Можете передать стартовый env (env - это окружение запроса, очень похоже на GET параметры)<br>     me('load', 'placeholder', {<br>        appId: 35,<br>        pageId: 3632,<br>        sizeBy: 'content',<br>        env: {<br>            sp: {<br>                order_date: '1996-07-08'<br>            }<br>        }<br>    });</p></code></pre>
    


    
    <pre class="prettyprint"><code><p>// Можете открывать главную страницу карточки объекта<br>     me('load', 'placeholder', {<br>        appId: 35,<br>        entityId: 2629,<br>        objectId: 4,<br>        sizeBy: 'content'<br>    });</p></code></pre>
    


    
    <pre class="prettyprint"><code><p>// Можете открывать вкладку на карточке объекта<br>     me('load', 'placeholder', {<br>        appId: 35,<br>        entityId: 2630,<br>        objectId: 1,<br>        pageId: 3313,</p>
<pre class="prettyprint source"><code>    sizeBy: 'content'
});</code></pre></code></pre>
    

    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".pubApi.onEvent">
            
            <span class="type-signature static">static</span>meta.pubApi.onEvent<span class="signature">(elementId, callback)</span>
        </h4>
    
        
        <div class="tag-source">
            <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html">/private/tmp/out_git/src/main/webapp/app/embed/embed-platform.js</a>, <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html#line533">line 533</a>
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Подписка на все события по элементу</p>
    </div>
    

    
    
    
    
    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>elementId</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            <td class="description last">
                
                </td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            <td class="description last">
                
                </td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".pubApi.onPopup">
            
            <span class="type-signature static">static</span>meta.pubApi.onPopup<span class="signature">(callback)</span>
        </h4>
    
        
        <div class="tag-source">
            <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html">/private/tmp/out_git/src/main/webapp/app/embed/embed-platform.js</a>, <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html#line353">line 353</a>
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Подписка на попытку вызова попапа на родительской странице.<br>Родительская страница должна реализовать функцию обратного вызова, чтобы открывать попапы,<br>когда МЕТА захочет это сделать.</p>
    </div>
    

    
    
    
    
    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            <td class="description last">
                
                </td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".pubApi.onReady">
            
            <span class="type-signature static">static</span>meta.pubApi.onReady<span class="signature">(callback)</span>
        </h4>
    
        
        <div class="tag-source">
            <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html">/private/tmp/out_git/src/main/webapp/app/embed/embed-platform.js</a>, <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html#line211">line 211</a>
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Подписаться на событие старта meta embed</p>
    </div>
    

    
    
    
    
    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            <td class="description last">
                
                </td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".pubApi.render">
            
            <span class="type-signature static">static</span>meta.pubApi.render<span class="signature">(elementId, content)</span>
        </h4>
    
        
        <div class="tag-source">
            <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html">/private/tmp/out_git/src/main/webapp/app/embed/embed-platform.js</a>, <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html#line365">line 365</a>
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Рендерит в заданый элемент контент<br>Используется в inline embed режиме для кода, приходящего с сервера</p>
    </div>
    

    
    
    
    
    
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>elementId</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            <td class="description last">
                
                </td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>content</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            <td class="description last">
                
                </td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <div class="nameContainer">
        <h4 class="name" id=".pubApi.track">
            
            <span class="type-signature static">static</span>meta.pubApi.track<span class="signature">()</span>
        </h4>
    
        
        <div class="tag-source">
            <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html">/private/tmp/out_git/src/main/webapp/app/embed/embed-platform.js</a>, <a href="-_private_tmp_out_git_src_main_webapp_app_embed_embed-platform.js.html#line147">line 147</a>
        </div>
        
    </div>

    
</dt>
<dd>
    
    
    <div class="description">
        <p>Отправить событие на сервер</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  





        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.4</a> on Thu Aug 31 2017 11:50:38 GMT+0300 (MSK)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>